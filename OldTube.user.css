/* ==UserStyle==
@name           OldTube
@author         aKqir24 <Akqir> (https://github.com/aKqir24)
@description    Interface tweaks for an nostalgic experience in youtube...
@namespace      https://userstyles.world/user/aKqir24
@homepageURL    https://github.com/aKqir24/OldTube
@supportURL     https://github.com/aKqir24/OldTube/issues
@version        1.0.8
@license        MIT
@preprocessor   stylus

@var number feedThumbRadius "Thumbnail Corner" [5, 0, 20, 5, "px"]
@var number buttonRadius "Button Corner" [5, 0, 20, 5, "px"]
@var number videoPlayerRadius "Player Corner" [0, 0, 20, 5, "px"]
@var number searchBoxRadius "Search Corner" [0, 0, 20, 5, "px"]
@var range videoCardThumbnail "Video Cards" [1, 0, 10, 1, "px"]

@var checkbox oldSubscribe 'Old Subscribe' 1
@var checkbox removeShorts  'Remove Shorts' 1
@var checkbox compactMenu  'Compact Menu' 1

@var color progressColor 'Progressbar Color' #CC0000
==/UserStyle== */

/* TO BE ADDED */
/*@var checkbox compactButtons  'Compact Buttons' 1*/

/*
Support My Youtube Channel!!
- https://www.youtube.com/@Akqir
*/

@-moz-document domain("youtube.com") {
    :root {
        --sub-black-bg-btn: #303030;
        --sub-white--text-btn: #F2F2F2;
        --button-corner-radius: buttonRadius;
        --yt-spec-brand-button-background: progressColor;
        --corner-radius-video-player: videoPlayerRadius;
        --feed-thumbnail-preview: feedThumbRadius;
        --video-card-preview: videoCardThumbnail;
        --search-box-radius: searchBoxRadius;
        --progressbar-color: progressColor;
        --dislike-color: red;
        --like-color: lime;
    }

/*Side Menu Buttons*/
if compactMenu{
    ytd-mini-guide-entry-renderer[system-icons][is-active] .title.ytd-mini-guide-entry-renderer,
    ytd-mini-guide-entry-renderer[system-icons] .title.ytd-mini-guide-entry-renderer {
        display: none
        
    }
    
    ytd-mini-guide-entry-renderer{
        border-radius: var(--button-corner-radius);
        width:54px
    }
    
    a.ytd-mini-guide-entry-renderer {
        padding: 14px 0px 12px;
        width: 54px
    }
}


/* All Buttons Section */
    /* Subscribed button on channels*/
    /* Please let me know if you can figure out how to make this shorter and cleaner */
    [page-subtype="channels"] {
        #subscribe yt-button-shape button {
            &[aria-label^="Subscribe"], /* English */
            &[aria-label^="ติดตาม"], /*Thai*/
            &[aria-label^="Pratite kanal"],
            &[aria-label^="Teken in"], /* Afrikaans */
            &[aria-label*="kanalına abunə olun"], /* Azərbaycan  */
            &[aria-label^="Subscribe"], /* Bahasa Indonesia */
            &[aria-label^="Langgan"], /* Bahasa Malaysia */
            &[aria-label^="Pretplatite se na kanal"], /* Bosanski */
            &[aria-label^="Subscriu-te al canal"], /* Català */
            &[aria-label*="se k"], /* Čeština */
            &[aria-label^="Abonner på"], /* Dansk */
            &[aria-label$="abonnieren."], /* Deutsch */
            &[aria-label^="Telli"], /* Eesti */
            &[aria-label^="Suscribirse"], /* Español (España) */
            &[aria-label^="Suscribirme"], /* Español (Latinoamérica) */
            &[aria-label^="Harpidetu"], /* euskara */
            &[aria-label^="Mag-subscribe sa"], /* Filipino */
            &[aria-label^="S'abonner à"], /* Français */
            &[aria-label^="Subscribirse"], /* galego */
            &[aria-label^="Bhalisesla"], /* IsiZulu */
            &[aria-label^="Prihlásiť sa na odber kanála"], /* Íslenska */
            &[aria-label^="Hefja áskrift að"], /* Íslenska */
            &[aria-label^="Iscriviti"], /* Italiano */
            &[aria-label^="Fuatilia"],
            &[aria-label^="Abonēt kanālu"],
            &[aria-label^="Prenumeruoti"],
            &[aria-label^="Feliratkozás"],
            &[aria-label^="Abonneren op"],
            &[aria-label^="Obuna qiling"],
            &[aria-label^="Abonohu në"],
            &[aria-label^="Đăng ký"],
            &[aria-label$="alına abone ol."],
            &[aria-label^="Падпісацца на канал"],
            &[aria-label^="Абониране"],
            &[aria-label$="каналына жазылыңыз."],
            &[aria-label$="арнасына жазылу"],
            &[aria-label^="Претплатете се на"],
            &[aria-label$="захиалах."],
            &[aria-label^="Оформить подписку на канал"],
            &[aria-label^="Пратите канал"],
            &[aria-label^="Підписатися на канал"],
            &[aria-label^="Subscrever"],
            &[aria-label^="Inscreva-se em"],
            &[aria-label^="Abonează-te la"],
            &[aria-label^="Prenumerera på"],
            &[aria-label^="Հետևել"],
            &[aria-label^="הרשמה למינוי לערוץ"],
            &[aria-label$="کو سبسکرائب کریں۔"],
            &[aria-label^="يمكنك الاشتراك في قناة"],
            &[aria-label^="مشترک شدن در"],
            &[aria-label$="को सदस्यता लिनुहोस्।"],
            &[aria-label$="चे सदस्यत्व घ्या."],
            &[aria-label$="के सदस्य बनें."],
            &[aria-label$="ৰ সদস্য হওক।"],
            &[aria-label$="এ সাবস্ক্রাইব করুন।"],
            &[aria-label$="ਨੂੰ ਸਬਸਕ੍ਰਾਈਬ ਕਰੋ।"],
            &[aria-label$="પર સબ્સ્ક્રાઇબ કરો."],
            &[aria-label$="ସବ୍‍ସ୍କ୍ରାଇବ୍‍ କରିବେ।"],
            &[aria-label$="சேனலில் குழுசேர்க."],
            &[aria-label$="సబ్‌స్క్రయిబ్ చేయండి."],
            &[aria-label$="ಗೆ ಸಬ್‌ಸ್ಕ್ರೈಬ್ ಮಾಡಿ."],
            &[aria-label$="എന്ന ചാനലിന്‍റെ വരിക്കാരാവുക."],
            &[aria-label$="වෙත දායක වන්න."],
            &[aria-label^="ຕິດຕາມ"],
            &[aria-label$="တွင် စာရင်းသွင်းရန်။"],
            &[aria-label$="გამოწერა."],
            &[aria-label^="订阅"], /* &[aria-label="ជា&ZeroWidthSpace;វ&ZeroWidthSpace; Elegant Sister (ES) ។"] */
            &[aria-label^="訂閱"],
            &[aria-label^="ይመዝገቡ።"],
            &[aria-label$="をチャンネル登録"],
            &[aria-label$="을(를) 구독합니다."],
            &[aria-label^="Tilaa"],
            &[aria-label^="Subskrybuj kanał"] {
                color: var(--yt-spec-static-brand-white) !important;
                background-color: var(--yt-spec-brand-button-background) !important
            }
        }
    }
    
    /* Like, Dislike, And More Button*/
    .yt-spec-button-shape-next--mono.yt-spec-button-shape-next--tonal{
        color: #f1f1f1f0;
        background-color: #272727;
        border-radius: var(--button-corner-radius)
    }
    
    /*Channel Join Button*/
    .yt-spec-button-shape-next--mono.yt-spec-button-shape-next--filled {
        border-radius: var(--button-corner-radius);
    }
    
        .yt-spec-button-shape-next--overlay.yt-spec-button-shape-next--tonal{
            border-radius: var(--button-corner-radius);
            text-transform: uppercase;
            font-family: "Roboto","Arial",sans-serif;
            font-size: 150%;
            font-weight: bold
        }
    
        .smartimation--enable-masking .smartimation__content {
            background-color: #272727; 
            border-radius: var(--button-corner-radius)
        }
    
    /*Player Channel Join Button*/
    .yt-spec-button-shape-next--mono.yt-spec-button-shape-next--outline{
        border-radius: var(--button-corner-radius);
        text-transform: uppercase
    }

    /* Channel Join Button Text*/
    .yt-spec-button-shape-next{ text-transform: uppercase }
    
    /*Channel Subscribe Button*/
    .yt-subscribe-button-view-model-wiz{ margin: 0px }
    
/* Feed Section*/
    /* Thumbnail */
    .ytd-thumbnail,
    .ytd-thumbnail[size="large"] a.ytd-thumbnail, ytd-thumbnail[size="large"]::before,
    ytd-thumbnail.ytd-rich-grid-media, ytd-playlist-thumbnail.ytd-rich-grid-media {
        border-radius: var(--feed-thumbnail-preview) !important
    }
    
    /* Menu Text Underline */
    .yt-simple-endpoint,
     #endpoint.yt-simple-endpoint.ytd-guide-entry-renderer {
        color: transparent;
    }
    
    /*Channel Banner*/
    .yt-image-banner-view-model-wiz--inset {
        border-radius: var(--feed-thumbnail-preview) !important
    }
    
    /* Search Box */
    .ytSearchboxComponentInputBoxDark,
    .ytSearchboxComponentSearchButtonDark {
        border-radius: var(--search-box-radius)
    }
    
    .yt-spec-button-shape-next--size-m.yt-spec-button-shape-next--icon-leading .yt-spec-button-shape-next__icon {
        margin: 0px;
    }
    
    if oldSubscribe {
    /* Subscribed button */
        #subscribe,
        #subscribe-button {
            yt-button-shape {
                /* Red Subscribed button */
                button,
                a[aria-label="Subscribe"] {
                    /* InPrivate */
                    border-radius: var(--button-corner-radius);
                    color: var(--yt-spec-static-brand-white) !important;
                    background-color: var(--yt-spec-brand-button-background) !important
                }
                /* Unsubscribe button */
                button[aria-label^=Unsubscribe],
                button.yt-spec-button-shape-next.yt-spec-button-shape-next--tonal {
                    border-radius: var(--button-corner-radius);
                    color: var(--yt-spec-text-secondary) !important;
                    background-color: var(--yt-spec-badge-chip-background) !important
                }
            }
        }

        /* Shorts Unsubscribe button */
        html[dark] ytd-shorts #subscribe-button yt-button-shape button {
            &[aria-label^=Unsubscribe],
            &.yt-spec-button-shape-next.yt-spec-button-shape-next--tonal {
                border-radius: var(--button-corner-radius);
                background-color: var(--sub-black-bg-btn) !important
            }
        }

        html:not([dark]) ytd-shorts #subscribe-button yt-button-shape button {
            &[aria-label^=Unsubscribe],
            &.yt-spec-button-shape-next.yt-spec-button-shape-next--tonal {
                border-radius: var(--button-corner-radius);
                background-color: var(--sub-white--text-btn) !important
            }
        }
    }
}

/*Video Player Section*/

    /*Modify The Metadata Video Title */
    ytd-watch-metadata[title-headline-xs] h1.ytd-watch-metadata {
        font-family: "Roboto","Arial",sans-serif;
        font-size: 2rem;
        line-height: 2.8rem;
        font-weight: 700;
        overflow: hidden;
        max-height: 5.6rem;
        -webkit-line-clamp: 2;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        text-overflow: ellipsis;
        white-space: normal;
        padding-top: 5px;
    }

    /*Mini Player*/
    #modern-card.ytd-miniplayer,
    .ytp-player-minimized .html5-main-video, 
    .ytp-player-minimized .ytp-miniplayer-scrim, 
    .ytp-player-minimized.html5-video-player:not(.ytp-modern-miniplayer)
    ytd-miniplayer[inset-progress-bar] #modern-card.ytd-miniplayer, 
    ytd-miniplayer[permanent-info-bar] #modern-card.ytd-miniplayer,
    ytd-miniplayer[expand-animation-enabled] #modern-card.ytd-miniplayer {
        border-radius: var(--corner-radius-video-player);
    }

    /*End Screen */
    .ytp-videowall-still-round-medium .ytp-videowall-still-image {
        border-radius: var(--feed-thumbnail-preview);
    }

    /* Remove The Shorts Suggestion*/
    if removeShorts {
        ytd-rich-shelf-renderer[standard-shelf-margins][is-shorts][is-show-more-hidden][is-show-less-hidden][is-truncated] #dismissible.ytd-rich-shelf-renderer,
        ytd-exploratory-results-renderer.ytd-item-section-renderer, 
        ytd-horizontal-card-list-renderer.ytd-item-section-renderer:not(:first-child), 
        ytd-reel-shelf-renderer.ytd-item-section-renderer {
            display: none
        }  
    }
    
    /*Remove The Border Radius Of the Player*/
    .html5-video-player, 
    ytd-watch-flexy[rounded-player-large][default-layout] #ytd-player.ytd-watch-flexy {
        border-radius: var(--corner-radius-video-player);
    }

    /*Border Player Background*/    
    .style-scope ytd-rich-grid-renderer{
        border-radius: var(--button-corner-radius);
        color: #2e2e2e
    }

    /* Change Progressbar*/
    .ytp-play-progress {
        background-color: var(--progressbar-color) !important;
    }

    .ytp-cairo-refresh-signature-moments .ytp-play-progress {
        background: var(--progressbar-color) !important;
    }

    /* Remove the gradient and set a solid color */
    .ytp-cairo-refresh .ytp-swatch-background-color {
        background-color: var(--progressbar-color) !important;
    }
    
    .ytp-scrubber-button {
    -webkit-transition: -webkit-transform .1s cubic-bezier(.4,0,1,1);
    }
    
    #dismissible.ytd-compact-video-renderer {
        margin-bottom: var(--video-card-preview);
        margin-left: 2px
    }
